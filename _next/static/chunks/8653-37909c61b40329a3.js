(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8653],{3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>i});var s=a(95155),r=a(12115),o=a(17129),n=a(83101),l=a(64269);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:-translate-y-px hover:shadow-[0_4px_12px_hsl(var(--primary)/0.3)]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:-translate-y-px hover:shadow-[0_4px_12px_hsl(var(--destructive)/0.3)]",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground hover:-translate-y-px hover:shadow-[0_4px_12px_hsl(var(--accent)/0.2)]",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:-translate-y-px hover:shadow-[0_4px_12px_hsl(var(--secondary)/0.2)]",ghost:"hover:bg-accent hover:text-accent-foreground hover:-translate-y-px hover:shadow-[0_4px_12px_hsl(var(--accent)/0.1)]",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:d=!1,...c}=e,u=d?o.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(i({variant:r,size:n,className:a})),ref:t,...c})});d.displayName="Button"},11186:(e,t,a)=>{"use strict";a.d(t,{bq:()=>m,eb:()=>p,gC:()=>f,l6:()=>c,yv:()=>u});var s=a(95155),r=a(12115),o=a(4729),n=a(59007),l=a(42614),i=a(72251),d=a(64269);let c=o.bL;o.YJ;let u=o.WT,m=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(o.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[r,(0,s.jsx)(o.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=o.l9.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});x.displayName=o.PP.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=o.wn.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,position:n="popper",...l}=e;return(0,s.jsx)(o.ZL,{children:(0,s.jsxs)(o.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...l,children:[(0,s.jsx)(x,{}),(0,s.jsx)(o.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(h,{})]})})});f.displayName=o.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=o.JU.displayName;let p=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(o.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(o.VF,{children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})}),(0,s.jsx)(o.p4,{children:r})]})});p.displayName=o.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=o.wv.displayName},15894:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u});var s=a(12115);let r=0,o=new Map,n=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),d({type:"REMOVE_TOAST",toastId:e})},3e3);o.set(e,t)},l=[],i={toasts:[]};function d(e){i=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(i,e),l.forEach(e=>{e(i)})}function c(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),setTimeout(()=>{s()},3e3),{id:a,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=s.useState(i);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},18332:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>i,TN:()=>c,XL:()=>d});var s=a(95155),r=a(12115),o=a(83101),n=a(64269);let l=(0,o.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=r.forwardRef((e,t)=>{let{className:a,variant:r,...o}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(l({variant:r}),a),...o})});i.displayName="Alert";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});d.displayName="AlertTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",a),...r})});c.displayName="AlertDescription"},32383:()=>{},49912:()=>{},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>x,Es:()=>f,HM:()=>u,L3:()=>p,c7:()=>h,lG:()=>i,rr:()=>g,zM:()=>d});var s=a(95155),r=a(12115),o=a(93409),n=a(26615),l=a(64269);let i=o.bL,d=o.l9,c=o.ZL,u=o.bm,m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});m.displayName=o.hJ.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(o.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[r,(0,s.jsxs)(o.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=o.UC.displayName;let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};h.displayName="DialogHeader";let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="DialogFooter";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});p.displayName=o.hE.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});g.displayName=o.VY.displayName},71084:(e,t,a)=>{"use strict";a.d(t,{E:()=>W});var s=a(95155),r=a(12115),o=a(52619),n=a.n(o),l=a(21952),i=a(94543);let d=0;function c(e){return d+=1,{id:"log-".concat(Date.now(),"-").concat(d),timestamp:new Date().toISOString(),...e}}var u=a(55172),m=a(54264),x=a.n(m),h=a(4246),f=a(79233),p=a(85007),g=a(86948),b=a(51834),y=a(87270),v=a(11186),j=a(18332),N=a(78770),w=a(18527),S=a(92925),T=a(7710),A=a(28068),C=a(73180),F=a(74640),E=a(92033),z=a(26302),k=a(60805),D=a(84336),_=a(5225),R=a(77187),I=a(47931),L=a(5351),O=a(3998),M=a(15894),P=a(86259);let W=r.memo(function(e){let{timetable:t,conflicts:a,report:o}=e,{toast:d}=(0,M.dj)(),m=(0,r.useRef)(null),[W,B]=(0,r.useState)(!1),[U,J]=(0,r.useState)(!1),[Y,Z]=(0,r.useState)([]),[V,$]=(0,r.useState)(92),[q,H]=(0,r.useState)({}),[G,X]=(0,r.useState)(null),{courses:Q,faculty:K,rooms:ee,setTimetableResult:et,timetableResult:ea,addAuditLog:es,userRole:er,currentUser:eo}=(0,r.useContext)(l.y),[en,el]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=JSON.parse(JSON.stringify(t));Z(e),el(e)},[t]),(0,r.useEffect)(()=>{let e=localStorage.getItem("timetableEfficiency");if(e)$(JSON.parse(e));else{let e=Math.floor(14*Math.random())+85;$(e),localStorage.setItem("timetableEfficiency",JSON.stringify(e))}},[t]);let ei=(0,r.useCallback)((e,t)=>Y.find(a=>a.day===e&&a.time===t),[Y]),ed=(0,r.useMemo)(()=>["09:00 - 10:00","10:00 - 11:00","11:00 - 12:00","12:00 - 01:00 (Lunch Break)","02:00 - 03:00","03:00 - 04:00","04:00 - 05:00"],[]),ec=(0,r.useMemo)(()=>["Monday","Tuesday","Wednesday","Thursday","Friday"],[]),eu=(e,t,a,s)=>{Z(Y.map(r=>{if(r.day===e&&r.time===t){let e={...r,[a]:s};if("course"===a){let t=Q.find(e=>e.name===s);e.courseCode=(null==t?void 0:t.code)||""}return e}return r}))},em=async(e,t,a)=>{let s="".concat(e,"-").concat(t);H(e=>({...e,[s]:{loading:!0,suggestion:null,justification:null,error:null}}));try{let e=Q.find(e=>e.name===a);if(!e)throw Error("Course not found");let t=await (0,i.sf)({course:JSON.stringify(e),facultyData:JSON.stringify(K),timetable:JSON.stringify(Y)});if(t.success&&t.data)H(e=>({...e,[s]:{loading:!1,suggestion:t.data.facultyName,justification:t.data.justification,error:null}})),d({title:"Suggestion Ready!",description:"AI suggests ".concat(t.data.facultyName," for this slot.")});else throw Error(t.error||"Failed to get suggestion.")}catch(t){let e=t instanceof Error?t.message:"An unknown error occurred.";H(t=>({...t,[s]:{loading:!1,suggestion:null,justification:null,error:e}})),d({variant:"destructive",title:"Suggestion Failed",description:e})}},ex=e=>{if(G){if(d({title:"".concat(e.replace(/_/g," ")," Download Started"),description:'Your download for "'.concat(G.course,"\" has begun. Please check your browser's downloads.")}),"Presentation_Slides"===e)return void(e=>{let t=new p.A,a=e.course.replace(/[^a-z0-9]/gi,"_").toLowerCase();t.defineSlideMaster({title:"MASTER_SLIDE",background:{color:"F1F1F1"},objects:[{rect:{x:0,y:5.3,w:"100%",h:.2,fill:{color:"0072C6"}}},{text:{text:"Timetable Ace University",options:{x:.5,y:5.4,fontSize:10,color:"FFFFFF"}}}]});let s=t.addSlide({masterName:"MASTER_SLIDE"});s.addText(e.course,{x:1,y:1.5,fontSize:42,bold:!0,color:"0072C6"}),s.addText("Faculty: ".concat(e.faculty),{x:1,y:2.5,fontSize:24,color:"363636"}),s.addText(new Date().toLocaleDateString(),{x:1,y:4.5,fontSize:18,color:"7F7F7F"});let r=t.addSlide({masterName:"MASTER_SLIDE"});if(r.addText("Agenda",{x:.5,y:.5,fontSize:32,bold:!0,color:"0072C6"}),"Data Structures"===e.course){r.addText([{text:"What are Data Structures?",options:{bullet:!0,color:"363636"}},{text:"Arrays vs. Linked Lists",options:{bullet:!0,color:"363636"}},{text:"Understanding Big O Notation",options:{bullet:!0,color:"363636"}},{text:"Overview of Stacks & Queues",options:{bullet:!0,color:"363636"}}],{x:1,y:1.5,w:"80%",h:"70%",fontSize:22});let e=t.addSlide({masterName:"MASTER_SLIDE"});e.addText("Arrays vs. Linked Lists",{x:.5,y:.5,fontSize:32,bold:!0,color:"0072C6"}),e.addText([{text:"Arrays:",options:{bold:!0}},{text:"Store elements in contiguous memory locations.",options:{bullet:{indent:30},fontSize:18}},{text:"Excellent for fast, O(1) random access using an index.",options:{bullet:{indent:30},fontSize:18}},{text:"Inefficient for insertions/deletions in the middle (O(n)).",options:{bullet:{indent:30},fontSize:18}}],{x:.5,y:1.5,w:"90%",h:"20%",fontSize:20,color:"363636"}),e.addText([{text:"Linked Lists:",options:{bold:!0}},{text:"Store elements as nodes with pointers to the next node.",options:{bullet:{indent:30},fontSize:18}},{text:"Slow for access (O(n)), as you must traverse the list.",options:{bullet:{indent:30},fontSize:18}},{text:"Very efficient for insertions/deletions at ends (O(1)).",options:{bullet:{indent:30},fontSize:18}}],{x:.5,y:3.5,w:"90%",h:"20%",fontSize:20,color:"363636"});let a=t.addSlide({masterName:"MASTER_SLIDE"});a.addText("Big O Notation",{x:.5,y:.5,fontSize:32,bold:!0,color:"0072C6"}),a.addText("A mathematical notation that describes the limiting behavior of a function when the argument tends towards a particular value or infinity. Used to classify algorithms according to how their run time or space requirements grow as the input size grows.",{x:.5,y:1.2,w:"90%",fontSize:16}),a.addText([{text:"O(1) - Constant Time: Accessing an array element.",options:{bullet:!0,color:"363636"}},{text:"O(log n) - Logarithmic Time: Binary search.",options:{bullet:!0,color:"363636"}},{text:"O(n) - Linear Time: Searching an unsorted list.",options:{bullet:!0,color:"363636"}},{text:"O(n^2) - Quadratic Time: Bubble sort.",options:{bullet:!0,color:"363636"}}],{x:1,y:2.5,w:"80%",fontSize:20})}else{r.addText([{text:"Introduction to the Topic",options:{bullet:!0,color:"363636"}},{text:"Core Concept 1: Detailed Explanation",options:{bullet:!0,color:"363636"}},{text:"Core Concept 2: Detailed Explanation",options:{bullet:!0,color:"363636"}},{text:"Practical Applications and Case Studies",options:{bullet:!0,color:"363636"}},{text:"Summary and Q&A",options:{bullet:!0,color:"363636"}}],{x:1,y:1.5,w:"80%",h:"70%",fontSize:22});let e=t.addSlide({masterName:"MASTER_SLIDE"});e.addText("Core Concept 1",{x:.5,y:.5,fontSize:32,bold:!0,color:"0072C6"}),e.addText("This slide would contain a detailed explanation of the first major concept of the lecture. It would include definitions, diagrams, and illustrative examples to ensure the topic is understood clearly by all students.",{x:.5,y:1.5,w:"90%",fontSize:18});let a=t.addSlide({masterName:"MASTER_SLIDE"});a.addText("Practical Applications",{x:.5,y:.5,fontSize:32,bold:!0,color:"0072C6"}),a.addText("This section bridges theory and practice. It would showcase real-world examples, case studies, or problems where the discussed concepts are applied. This helps students understand the relevance and importance of the material in a professional context.",{x:.5,y:1.5,w:"90%",fontSize:18})}t.addSlide({masterName:"MASTER_SLIDE"}).addText("Thank You & Questions?",{x:.5,y:2.5,w:"90%",h:"30%",align:"center",valign:"middle",fontSize:48,bold:!0,color:"0072C6"}),t.writeFile({fileName:"".concat(a,"_slides.pptx")})})(G);if("Lecture_Notes"===e)return void(e=>{let t=new u.Ay,a=e.course.replace(/[^a-z0-9]/gi,"_").toLowerCase();t.setFont("helvetica","bold"),t.setFontSize(22),t.text(e.course,20,20),t.setFont("helvetica","normal"),t.setFontSize(12),t.text("Faculty: ".concat(e.faculty),20,28),t.text("Date: ".concat(new Date().toLocaleDateString()),150,28),t.setDrawColor(180,180,180),t.line(20,32,190,32);let s=45;"Data Structures"===e.course?(t.setFont("helvetica","bold"),t.setFontSize(16),t.text("1. What is a Data Structure?",20,s),s+=8,t.setFont("helvetica","normal"),t.setFontSize(12),t.text("A data structure is a specialized format for organizing, processing, retrieving, and storing data. It's a way of arranging data on a computer so that it can be accessed and updated efficiently. Choosing the right data structure is a crucial part of designing efficient algorithms and is fundamental to computer science.",20,s,{maxWidth:170}),s+=25,t.setFont("helvetica","bold"),t.setFontSize(14),t.setTextColor(0,114,198),t.text("2. The Array",20,s),s+=8,t.setTextColor(0,0,0),t.setFont("helvetica","normal"),t.setFontSize(12),t.text("An array is a collection of items of the same data type stored at contiguous memory locations. This is its key feature, as it allows for fast random access based on an index.",20,s,{maxWidth:170}),s+=15,t.text("- Access Time (by index): O(1). Because memory is contiguous, the address of any element can be calculated instantly from its index.",25,s,{maxWidth:165}),s+=12,t.text("- Search Time (unsorted): O(n). You may have to check every element in the worst case.",25,s,{maxWidth:165}),s+=12,t.text("- Insertion/Deletion: O(n). To insert or delete an element in the middle, you must shift all subsequent elements, which is very inefficient.",25,s,{maxWidth:165}),s+=20,t.setFont("helvetica","bold"),t.setFontSize(14),t.setTextColor(0,114,198),t.text("3. The Linked List",20,s),s+=8,t.setTextColor(0,0,0),t.setFont("helvetica","normal"),t.setFontSize(12),t.text("A linked list consists of nodes where each node contains data and a pointer to the next node in the sequence. It does not store elements in contiguous locations, which gives it different performance characteristics.",20,s,{maxWidth:170}),s+=15,t.text("- Access Time: O(n). To find an element, you must start from the head and traverse the list one by one.",25,s,{maxWidth:165}),s+=12,t.text("- Insertion/Deletion (at ends): O(1). If you have a pointer to the head/tail, adding or removing a node is very fast.",25,s,{maxWidth:165}),s+=12,t.text("- Dynamic Size: Linked lists can grow and shrink dynamically, which is a major advantage over arrays which have a fixed size.",25,s,{maxWidth:165})):(t.setFontSize(16),t.setFont("helvetica","bold"),t.text("Introduction to the Topic",20,s),s+=10,t.setFontSize(12),t.setFont("helvetica","normal"),t.text("This document contains lecture notes for the course. It covers the fundamental concepts, key principles, and practical applications relevant to the subject matter. The purpose of these notes is to provide a structured and comprehensive resource to support your learning. Please review these notes before each class.",20,s,{maxWidth:170}),s+=25,t.setFont("helvetica","bold"),t.setFontSize(12),t.setTextColor(0,114,198),t.text("Key Concept A: In-depth Analysis",20,s),s+=8,t.setTextColor(0,0,0),t.setFont("helvetica","normal"),t.text("This section would delve into the first major concept of the lecture. It would typically include formal definitions, historical context, and the foundational theories. Key terminology would be highlighted, and the relationships between different sub-concepts would be explored to build a solid theoretical framework for the student.",20,s,{maxWidth:170}),s+=30,t.setFont("helvetica","bold"),t.setFontSize(12),t.setTextColor(0,114,198),t.text("Practical Application: Case Study",20,s),s+=8,t.setTextColor(0,0,0),t.setFont("helvetica","normal"),t.text("Here, we would bridge theory and practice. This part of the notes would present a real-world case study or a detailed example problem. It would walk the student through the application of the theories discussed earlier, showing how they are used to solve practical problems in the field. This reinforces learning and demonstrates the relevance of the material.",20,s,{maxWidth:170}));let r=t.getNumberOfPages();for(let a=1;a<=r;a++)t.setPage(a),t.setFontSize(10),t.text("Page ".concat(a," of ").concat(r," | ").concat(e.course),t.internal.pageSize.width/2,t.internal.pageSize.height-10,{align:"center"});t.save("".concat(a,"_notes.pdf"))})(G)}};return(0,s.jsx)(b.lG,{children:(0,s.jsxs)("div",{className:"space-y-6 mt-6",children:[(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)(g.Zp,{children:[(0,s.jsxs)(g.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(g.ZB,{className:"text-sm font-medium",children:"Clash Prediction"}),(0,s.jsx)(N.A,{className:"h-4 w-4 ".concat(a.length>0?"text-destructive":"text-muted-foreground")})]}),(0,s.jsxs)(g.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:a.length}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:a.length>0?"Potential bottlenecks detected":"No conflicts found"})]})]}),(0,s.jsxs)(g.Zp,{children:[(0,s.jsxs)(g.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(g.ZB,{className:"text-sm font-medium",children:"Efficiency Score"}),(0,s.jsx)(w.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(g.Wu,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[V,"%"]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Overall resource utilization"})]})]}),(0,s.jsx)(n(),{href:"/analytics",className:"interactive-element rounded-lg",children:(0,s.jsxs)(g.Zp,{children:[(0,s.jsxs)(g.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(g.ZB,{className:"text-sm font-medium",children:"Full Analytics Report"}),(0,s.jsx)(S.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(g.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:"View Details"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Deep dive into utilization metrics"})]})]})})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,s.jsxs)(g.Zp,{className:"lg:col-span-3 glass-card border-purple-500/30",children:[(0,s.jsx)(g.aR,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(g.ZB,{className:"text-2xl font-bold text-white flex items-center gap-2",children:[(0,s.jsx)(T.A,{className:"h-6 w-6 text-purple-400"}),"Generated Timetable"]}),(0,s.jsx)(g.BT,{className:"text-slate-300",children:"Click any class for LMS options. Use override to make edits."})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:U?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(O.$,{variant:"outline",onClick:()=>{J(!1),Z(JSON.parse(JSON.stringify(t))),d({variant:"destructive",title:"Changes Canceled",description:"Your edits have been discarded."})},className:"btn-outline",children:[(0,s.jsx)(A.A,{className:"mr-2 h-4 w-4"})," Cancel"]}),(0,s.jsxs)(O.$,{onClick:()=>{J(!1);let e=[];en.forEach(t=>{let a=Y.find(e=>e.day===t.day&&e.time===t.time);a&&(t.faculty!==a.faculty&&e.push("Changed ".concat(a.course," at ").concat(a.day," ").concat(a.time," from ").concat(t.faculty," to ").concat(a.faculty,".")),t.room!==a.room&&e.push("Moved ".concat(a.course," at ").concat(a.day," ").concat(a.time," from ").concat(t.room," to ").concat(a.room,".")))}),e.length>0&&es(c({action:"TIMETABLE_UPDATE",user:eo.name,role:er,details:"Made ".concat(e.length," change(s): ").concat(e.join(" "))})),ea&&et({...ea,timetable:Y}),d({title:"Changes Saved",description:"Your timetable adjustments have been saved and logged."})},className:"btn-primary",children:[(0,s.jsx)(C.A,{className:"mr-2 h-4 w-4"})," Save Changes"]})]}):(0,s.jsxs)(s.Fragment,{children:["admin"===er&&(0,s.jsxs)(O.$,{variant:"outline",onClick:()=>{J(!0),H({}),d({title:"Manual Override Mode Activated",description:"You can now edit the timetable directly."})},className:"btn-outline",children:[(0,s.jsx)(F.A,{className:"mr-2 h-4 w-4"}),"Manual Override"]}),(0,s.jsxs)(O.$,{onClick:()=>{m.current&&!W&&(B(!0),d({title:"Exporting Timetable",description:"Your timetable is being exported to PDF..."}),U&&J(!1),setTimeout(()=>{x()(m.current,{scale:2}).then(e=>{let t=e.toDataURL("image/png"),a=new u.Ay({orientation:"landscape",unit:"pt",format:"a4"}),s=a.internal.pageSize.getWidth(),r=a.internal.pageSize.getHeight(),o=e.width/e.height,n=s-40,l=n/o;l>r-40&&(n=(l=r-40)*o);let i=(s-n)/2,d=(r-l)/2;a.addImage(t,"PNG",i,d,n,l),a.save("timetable.pdf"),B(!1),U&&J(!0)}).catch(e=>{console.error("Error exporting PDF:",e),d({variant:"destructive",title:"Export Failed",description:"An error occurred while generating the PDF."}),B(!1),U&&J(!0)})},100))},disabled:W,className:"btn-secondary",children:[W?(0,s.jsx)(E.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(z.A,{className:"mr-2 h-4 w-4"}),"Export PDF"]}),(0,s.jsxs)(O.$,{onClick:()=>{d({title:"Exporting Timetable",description:"Your timetable is being exported to Excel..."});let e=[["Time",...ec],...ed.map(e=>[e,...ec.map(t=>{let a=ei(t,e);return a?"".concat(a.course," (").concat(a.courseCode,")\n").concat(a.faculty,"\nRoom: ").concat(a.room):""})])],t=h.Wp.aoa_to_sheet(e),a=[{wch:15},...ec.map(()=>({wch:30}))];t["!cols"]=a;let s=h.Wp.book_new();h.Wp.book_append_sheet(s,t,"Timetable"),h._h(s,"timetable.xlsx")},className:"btn-secondary",children:[(0,s.jsx)(z.A,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),(0,s.jsxs)(O.$,{onClick:()=>{d({title:"Exporting Calendar",description:"Your timetable is being exported to an .ics file..."});let e={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},t=Y.map(t=>{let[a]=t.time.split(" - ")[0].split(":").map(Number),s=e[t.day],r=new Date,o=new Date(r.getTime());return o.setDate(r.getDate()+(s-r.getDay()+7)%7),{title:"".concat(t.course," (").concat(t.courseCode,")"),description:"Faculty: ".concat(t.faculty,"\nRoom: ").concat(t.room),location:t.room,start:[o.getFullYear(),o.getMonth()+1,o.getDate(),a,0],duration:{hours:1},recurrenceRule:"FREQ=WEEKLY;INTERVAL=1;COUNT=12"}}),{error:a,value:s}=f.q2(t);if(a){d({variant:"destructive",title:"Export Failed",description:"An error occurred while generating the calendar file."}),console.error(a);return}let r=new Blob([s],{type:"text/calendar;charset=utf-8"}),o=document.createElement("a");o.href=URL.createObjectURL(r),o.download="timetable.ics",document.body.appendChild(o),o.click(),document.body.removeChild(o)},className:"btn-secondary",children:[(0,s.jsx)(T.A,{className:"mr-2 h-4 w-4"}),"Export Calendar (.ics)"]})]})})]})}),(0,s.jsx)(g.Wu,{children:(0,s.jsx)("div",{className:"relative w-full overflow-auto",ref:m,children:(0,s.jsxs)(y.XI,{className:"border-collapse w-full",children:[(0,s.jsx)(y.A0,{children:(0,s.jsxs)(y.Hj,{className:"border-b border-purple-500/20",children:[(0,s.jsx)(y.nd,{className:"w-[120px] text-purple-300 font-bold text-center bg-gradient-to-r from-purple-900/20 to-cyan-900/20 backdrop-blur-sm",children:"Time"}),ec.map(e=>(0,s.jsx)(y.nd,{className:"text-purple-300 font-bold text-center bg-gradient-to-r from-purple-900/20 to-cyan-900/20 backdrop-blur-sm min-w-[200px]",children:e},e))]})}),(0,s.jsx)(y.BF,{children:ed.map((e,t)=>(0,s.jsxs)(y.Hj,{className:"border-b border-slate-700/20 hover:bg-slate-800/10 transition-all duration-300 group",children:[(0,s.jsx)(y.nA,{className:"font-medium text-cyan-300 text-center bg-gradient-to-r from-slate-800/30 to-slate-700/30 backdrop-blur-sm",children:e}),ec.map((a,r)=>{let o=ei(a,e),n=q["".concat(a,"-").concat(e)];return(0,s.jsx)(y.nA,{className:"p-1 align-top w-[200px] h-[120px] group-hover:bg-slate-800/5 transition-all duration-300 border-r border-slate-700/20 last:border-r-0",children:o?(0,s.jsx)(b.zM,{asChild:!0,children:(0,s.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-900/20 to-cyan-900/20 text-white border border-purple-500/30 space-y-1 h-[110px] cursor-pointer hover:from-purple-900/30 hover:to-cyan-900/30 hover:border-purple-500/50 hover:shadow-lg hover:shadow-purple-500/20 transition-all duration-300 backdrop-blur-sm group/cell flex flex-col justify-between",onClick:()=>X(o),style:{animationDelay:"".concat((6*t+r)*50,"ms"),animation:"fadeInUp 0.6s ease-out forwards"},children:U?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(v.l6,{value:o.course,onValueChange:t=>eu(a,e,"course",t),children:[(0,s.jsx)(v.bq,{className:"h-8 text-xs font-bold bg-slate-800/50 border-slate-600/50",children:(0,s.jsx)(v.yv,{})}),(0,s.jsx)(v.gC,{className:"bg-slate-800 border-slate-600",children:Q.map(e=>(0,s.jsx)(v.eb,{value:e.name,className:"text-slate-200 hover:bg-slate-700",children:e.name},e.id))})]}),(0,s.jsxs)(v.l6,{value:o.faculty,onValueChange:t=>eu(a,e,"faculty",t),children:[(0,s.jsx)(v.bq,{className:"h-7 text-xs bg-slate-800/50 border-slate-600/50",children:(0,s.jsx)(v.yv,{})}),(0,s.jsx)(v.gC,{className:"bg-slate-800 border-slate-600",children:K.map(e=>(0,s.jsx)(v.eb,{value:e.name,className:"text-slate-200 hover:bg-slate-700",children:e.name},e.id))})]}),(0,s.jsxs)(v.l6,{value:o.room,onValueChange:t=>eu(a,e,"room",t),children:[(0,s.jsx)(v.bq,{className:"h-7 text-xs bg-slate-800/50 border-slate-600/50",children:(0,s.jsx)(v.yv,{})}),(0,s.jsx)(v.gC,{className:"bg-slate-800 border-slate-600",children:ee.map(e=>(0,s.jsx)(v.eb,{value:e.name,className:"text-slate-200 hover:bg-slate-700",children:e.name},e.id))})]}),(0,s.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,s.jsxs)(O.$,{variant:"outline",size:"sm",className:"w-full h-8 bg-slate-700/50 border-slate-600/50 hover:bg-slate-600/50",onClick:t=>{t.stopPropagation(),em(a,e,o.course)},disabled:null==n?void 0:n.loading,children:[(null==n?void 0:n.loading)?(0,s.jsx)(E.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Get Suggestion"]}),(null==n?void 0:n.suggestion)&&(0,s.jsxs)(j.Fc,{className:"bg-slate-800/80 border-slate-600/50",children:[(0,s.jsx)(D.A,{className:"h-4 w-4 text-yellow-400"}),(0,s.jsx)(j.XL,{className:"font-bold text-yellow-300",children:"AI Suggestion"}),(0,s.jsxs)(j.TN,{className:"text-xs",children:[(0,s.jsx)("p",{className:"font-semibold text-slate-200",children:n.suggestion}),(0,s.jsxs)("p",{className:"text-slate-400 italic mb-2",children:['"',n.justification,'"']}),(0,s.jsx)(O.$,{size:"sm",className:"w-full h-7 bg-blue-600/20 hover:bg-blue-600/30 border-blue-500/30",onClick:t=>{t.stopPropagation();let s=q["".concat(a,"-").concat(e)];s&&s.suggestion&&(eu(a,e,"faculty",s.suggestion),d({title:"Suggestion Applied!",description:"".concat(s.suggestion," has been assigned.")}))},children:"Apply Suggestion"})]})]})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"font-bold text-xs text-white group-hover:text-purple-300 transition-colors leading-tight",children:o.course}),(0,s.jsxs)("p",{className:"text-xs text-purple-200 font-semibold",children:["(",o.courseCode,")"]}),(0,s.jsx)("p",{className:"text-xs text-cyan-300 font-medium truncate",children:o.faculty}),(0,s.jsxs)("p",{className:"text-xs font-mono text-slate-300 bg-slate-800/50 px-1 py-0.5 rounded text-center",children:["Room: ",o.room]})]})})}):(0,s.jsx)("div",{className:"p-2 text-center text-slate-500/30 h-[110px] flex items-center justify-center bg-gradient-to-br from-slate-800/10 to-slate-700/10 rounded-lg border border-slate-700/20 backdrop-blur-sm",children:e.includes("12:00 - 01:00")?(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"text-sm font-semibold text-orange-400",children:"\uD83C\uDF7Dï¸"}),(0,s.jsx)("p",{className:"text-xs text-orange-300 font-medium",children:"Lunch Break"})]}):(0,s.jsx)("span",{className:"text-lg font-light",children:"-"})})},a)})]},e))})]})})})]}),(0,s.jsxs)("div",{className:"lg:col-span-3 grid gap-6",children:[a.length>0&&(0,s.jsxs)(g.Zp,{className:"border-destructive bg-destructive/10",children:[(0,s.jsxs)(g.aR,{children:[(0,s.jsxs)(g.ZB,{className:"flex items-center gap-2 text-destructive",children:[(0,s.jsx)(N.A,{})," Detected Conflicts & Bottlenecks"]}),(0,s.jsx)(g.BT,{className:"text-destructive/90",children:"The AI predicts the following issues based on current constraints. Manual override is recommended to resolve them."})]}),(0,s.jsx)(g.Wu,{children:(0,s.jsx)("ul",{className:"space-y-3",children:a.map((e,t)=>(0,s.jsxs)("li",{className:"text-sm p-3 rounded-md bg-destructive/10 border border-destructive/20",children:[(0,s.jsx)("p",{className:"font-semibold",children:e.type}),(0,s.jsx)("p",{className:"text-destructive/80",children:e.description}),(0,s.jsxs)("p",{className:"text-xs mt-1 font-mono text-destructive/90",children:["Involved: ",e.involved.join(", ")]})]},t))})})]}),"admin"===er&&o&&(0,s.jsxs)(g.Zp,{children:[(0,s.jsxs)(g.aR,{children:[(0,s.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(_.A,{})," Generation Report"]}),(0,s.jsx)(g.BT,{children:"A system-generated analysis of the timetable's efficiency."})]}),(0,s.jsx)(g.Wu,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:o})})]})]})]}),(0,s.jsx)(b.Cf,{className:"sm:max-w-md",children:G&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(b.c7,{children:[(0,s.jsxs)(b.L3,{className:"flex items-center gap-2",children:[(0,s.jsx)(R.A,{})," ",G.course]}),(0,s.jsxs)(b.rr,{children:[G.day,", ",G.time," with ",G.faculty," in ",G.room]})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h4",{className:"font-semibold",children:"Class Materials"}),(0,s.jsxs)(O.$,{variant:"outline",className:"w-full justify-start",onClick:()=>ex("Lecture_Notes"),children:[(0,s.jsx)(I.A,{className:"mr-2"})," Download Lecture Notes (PDF)"]}),(0,s.jsxs)(O.$,{variant:"outline",className:"w-full justify-start",onClick:()=>ex("Presentation_Slides"),children:[(0,s.jsx)(I.A,{className:"mr-2"})," Download Presentation Slides"]})]}),(0,s.jsx)(P.w,{}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h4",{className:"font-semibold",children:"User Actions"}),(0,s.jsx)(b.HM,{asChild:!0,children:(0,s.jsxs)(O.$,{onClick:()=>{G&&(es(c({action:"ATTENDANCE_MARKED",user:eo.name,role:er,details:"Attendance marked for course ".concat(G.course," (").concat(G.courseCode,") taught by ").concat(G.faculty,".")})),d({title:"Attendance Logged",description:'Attendance record for "'.concat(G.course,'" has been added to the Audit Log.')}))},className:"w-full",children:[(0,s.jsx)(L.A,{className:"mr-2"}),"Mark Attendance as ",er.charAt(0).toUpperCase()+er.slice(1)]})})]})]})]})})]})})})},80908:()=>{},83686:()=>{},86259:(e,t,a)=>{"use strict";a.d(t,{w:()=>l});var s=a(95155),r=a(12115),o=a(57268),n=a(64269);let l=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:l=!0,...i}=e;return(0,s.jsx)(o.b,{ref:t,decorative:l,orientation:r,className:(0,n.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...i})});l.displayName=o.b.displayName},87270:(e,t,a)=>{"use strict";a.d(t,{A0:()=>l,BF:()=>i,Hj:()=>d,XI:()=>n,nA:()=>u,nd:()=>c});var s=a(95155),r=a(12115),o=a(64269);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,o.cn)("w-full caption-bottom text-sm",a),...r})})});n.displayName="Table";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,o.cn)("[&_tr]:border-b",a),...r})});l.displayName="TableHeader";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,o.cn)("[&_tr:last-child]:border-0",a),...r})});i.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,o.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});d.displayName="TableRow";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,o.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});c.displayName="TableHead";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,o.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});u.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"},94543:(e,t,a)=>{"use strict";async function s(e){return{success:!0,data:{timetable:[],conflicts:[],report:"stubbed locally"}}}async function r(e){return{success:!0,data:[]}}async function o(e){return{success:!0,data:{messages:[]}}}a.d(t,{ID:()=>s,g5:()=>o,sf:()=>r})}}]);