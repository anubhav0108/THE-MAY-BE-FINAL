(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2296],{3998:(e,s,t)=>{"use strict";t.d(s,{$:()=>o,r:()=>i});var a=t(95155),r=t(12115),l=t(17129),n=t(83101),d=t(64269);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:-translate-y-px hover:shadow-[0_4px_12px_hsl(var(--primary)/0.3)]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:-translate-y-px hover:shadow-[0_4px_12px_hsl(var(--destructive)/0.3)]",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground hover:-translate-y-px hover:shadow-[0_4px_12px_hsl(var(--accent)/0.2)]",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:-translate-y-px hover:shadow-[0_4px_12px_hsl(var(--secondary)/0.2)]",ghost:"hover:bg-accent hover:text-accent-foreground hover:-translate-y-px hover:shadow-[0_4px_12px_hsl(var(--accent)/0.1)]",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,asChild:o=!1,...c}=e,h=o?l.DX:"button";return(0,a.jsx)(h,{className:(0,d.cn)(i({variant:r,size:n,className:t})),ref:s,...c})});o.displayName="Button"},6282:(e,s,t)=>{Promise.resolve().then(t.bind(t,29965))},11647:(e,s,t)=>{"use strict";t.d(s,{E:()=>d});var a=t(95155);t(12115);var r=t(83101),l=t(64269);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:t}),s),...r})}},13496:(e,s,t)=>{"use strict";t.d(s,{$m:()=>c,As:()=>o,nD:()=>i,ub:()=>h});var a=t(95155),r=t(12115),l=t(86374),n=t(59007),d=t(64269);let i=l.bL,o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.q7,{ref:s,className:(0,d.cn)("border-b",t),...r})});o.displayName="AccordionItem";let c=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsx)(l.Y9,{className:"flex",children:(0,a.jsxs)(l.l9,{ref:s,className:(0,d.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...i,children:[r,(0,a.jsx)(n.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});c.displayName=l.l9.displayName;let h=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsx)(l.UC,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:(0,a.jsx)("div",{className:(0,d.cn)("pb-4 pt-0",t),children:r})})});h.displayName=l.UC.displayName},29965:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>D});var a=t(95155),r=t(12115),l=t(21952),n=t(86948),d=t(87270),i=t(26991),o=t(94632),c=t(68425),h=t(47734),x=t(73697),m=t(23508),u=t(7620),f=t(24678),j=t(69386),p=t(71942),g=t(60805),b=t(52659),v=t(47940),y=t(6600),N=t(19201),w=t(6943),k=t(62593),R=t(5225),A=t(52619),C=t.n(A),_=t(3998),S=t(92925),W=t(13496),z=t(11647);let B=["09:00 - 10:00","10:00 - 11:00","11:00 - 12:00","12:00 - 01:00","02:00 - 03:00","03:00 - 04:00","04:00 - 05:00"],T=["Monday","Tuesday","Wednesday","Thursday","Friday"],Z=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))","hsl(221, 83%, 65%)","hsl(180, 83%, 65%)","hsl(60, 83%, 65%)"];function D(){let{faculty:e,rooms:s,timetableResult:t,students:A,courses:D}=(0,r.useContext)(l.y),{scheduledHours:F,totalRoomHours:E,assignedFaculty:H,usedRooms:L,peakHours:I,facultyLoadData:O,heatmapData:U,studentCreditLoadData:K}=(0,r.useMemo)(()=>{var a;if(!t)return{scheduledHours:0,totalRoomHours:s.length*B.length*T.length,assignedFaculty:new Set,usedRooms:new Set,peakHours:"N/A",facultyLoadData:[],heatmapData:[],studentCreditLoadData:[]};let r=t.timetable.length,l=s.length*B.length*T.length,n=new Set(t.timetable.map(e=>e.faculty)),d=new Set(t.timetable.map(e=>e.room)),i={};for(let e of t.timetable)i[e.time]=(i[e.time]||0)+1;let o=(null==(a=Object.entries(i).sort((e,s)=>{let[,t]=e,[,a]=s;return a-t})[0])?void 0:a[0])||"N/A",c=e.map(e=>{let s=t.timetable.filter(s=>s.faculty===e.name).length,a=s>e.workload;return{name:e.name.split(" ").slice(1).join(" "),assignedHours:s,expectedWorkload:e.workload,fill:a?"hsl(var(--destructive))":"hsl(var(--chart-2))"}});return{scheduledHours:r,totalRoomHours:l,assignedFaculty:n,usedRooms:d,peakHours:o,facultyLoadData:c,heatmapData:T.map(e=>{let a={day:e};return s.forEach(s=>{let r=t.timetable.filter(t=>t.room===s.name&&t.day===e).length;a[s.name]=r}),a}),studentCreditLoadData:A.map(e=>{let s=((e,s)=>{let t=new Set;e.electiveChoices.forEach(e=>t.add(e));let a=e.branch.substring(0,2).toUpperCase();return s.forEach(s=>{let r=s.code.toUpperCase();if(r.startsWith(a)){let a=r.match(/[a-zA-Z]+(\d)/);a&&a[1]&&parseInt(a[1],10)===e.year&&t.add(s.code)}(s.code.startsWith("HS")||s.code.startsWith("PH"))&&e.year<=2&&t.add(s.code)}),t})(e,D),a=new Set;t.timetable.forEach(e=>{s.has(e.courseCode)&&a.add(e.courseCode)});let r=0;a.forEach(e=>{let s=D.find(s=>s.code===e);s&&(r+=s.credits)});let l="Compliant";return r<18&&(l="Under-loaded"),r>24&&(l="Over-loaded"),{id:e.id,name:e.name,branch:e.branch,enrolledCredits:e.enrolledCredits,assignedCredits:r,status:l}})}},[t,A,e,D,s]),V=E>0?F/E*100:0,$=e.length>0?H.size/e.length*100:0,G=s.length>0?L.size/s.length*100:0,M=(A.length>0?F/A.length:0)/T.length,X=K.filter(e=>"Compliant"===e.status).length,P=A.length>0?X/A.length*100:0;return t?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-headline font-bold",children:"Analytics & Reports"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Gain insights into timetable efficiency and resource allocation."}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-6",children:[(0,a.jsxs)(n.Zp,{className:"interactive-element",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"Overall Utilization"}),(0,a.jsx)(b.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[V.toFixed(1),"%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[F," of ",E," hours"]})]})]}),(0,a.jsxs)(n.Zp,{className:"interactive-element",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"Faculty Load"}),(0,a.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[$.toFixed(1),"%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[H.size," of ",e.length," assigned"]})]})]}),(0,a.jsxs)(n.Zp,{className:"interactive-element",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"Room Usage"}),(0,a.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[G.toFixed(1),"%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[L.size," of ",s.length," utilized"]})]})]}),(0,a.jsxs)(n.Zp,{className:"interactive-element",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"CBCS Compliance"}),(0,a.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[P.toFixed(1),"%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[X," of ",A.length," students compliant"]})]})]}),(0,a.jsxs)(n.Zp,{className:"interactive-element",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"Student Workload"}),(0,a.jsx)(w.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[M.toFixed(1)," hrs"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Avg. daily class hours"})]})]}),(0,a.jsxs)(n.Zp,{className:"interactive-element",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"Peak Hours"}),(0,a.jsx)(k.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:I}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Most concurrent classes"})]})]})]}),(0,a.jsxs)(n.Zp,{className:"interactive-element",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Faculty Workload Distribution"}),(0,a.jsx)(n.BT,{children:"Assigned weekly class hours vs. expected workload for each faculty member. Overloaded faculty are highlighted in red."})]}),(0,a.jsx)(n.Wu,{className:"pl-2",children:(0,a.jsx)(i.u,{width:"100%",height:350,children:(0,a.jsxs)(o.E,{data:O,margin:{top:5,right:20,left:-10,bottom:5},children:[(0,a.jsx)(c.d,{strokeDasharray:"3 3",vertical:!1}),(0,a.jsx)(h.W,{dataKey:"name",tickLine:!1,axisLine:!1,stroke:"#888888",fontSize:12}),(0,a.jsx)(x.h,{tickLine:!1,axisLine:!1,stroke:"#888888",fontSize:12,allowDecimals:!1}),(0,a.jsx)(m.m,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"},labelStyle:{fontWeight:"bold"}}),(0,a.jsx)(u.s,{iconSize:10}),(0,a.jsx)(f.y,{dataKey:"expectedWorkload",name:"Expected",stackId:"a",fill:"hsl(var(--muted))",radius:[4,4,0,0]}),(0,a.jsx)(f.y,{dataKey:"assignedHours",name:"Assigned",stackId:"a",radius:[4,4,0,0],children:O.map((e,s)=>(0,a.jsx)(j.f,{fill:e.fill},"cell-".concat(s)))})]})})})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-5",children:[(0,a.jsxs)(n.Zp,{className:"lg:col-span-3 interactive-element",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Resource Utilization Heatmap"}),(0,a.jsx)(n.BT,{children:"Daily booked hours for each room and lab across the week."})]}),(0,a.jsxs)(n.Wu,{className:"pl-2",children:[(0,a.jsx)("div",{style:{height:"300px"},children:(0,a.jsx)(i.u,{width:"100%",height:"100%",children:(0,a.jsxs)(o.E,{data:U,children:[(0,a.jsx)(c.d,{vertical:!1}),(0,a.jsx)(h.W,{dataKey:"day",tickLine:!1,tickMargin:10,axisLine:!1,fontSize:12}),(0,a.jsx)(x.h,{fontSize:12,allowDecimals:!1}),(0,a.jsx)(m.m,{cursor:!1,contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}}),(0,a.jsx)(u.s,{iconSize:10}),s.map((e,s)=>(0,a.jsx)(f.y,{dataKey:e.name,name:e.name,stackId:"a",fill:Z[s%Z.length],radius:4},e.id))]})})}),(0,a.jsx)(W.nD,{type:"single",collapsible:!0,className:"w-full mt-4",children:(0,a.jsxs)(W.As,{value:"item-1",children:[(0,a.jsx)(W.$m,{className:"text-sm text-muted-foreground",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.XI,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"View Raw Data"})]})}),(0,a.jsx)(W.ub,{children:(0,a.jsx)("pre",{className:"text-xs p-4 bg-muted/50 rounded-md overflow-x-auto",children:JSON.stringify(U,null,2)})})]})})]})]}),(0,a.jsxs)(n.Zp,{className:"lg:col-span-2 interactive-element",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Generation Report"}),(0,a.jsx)(n.BT,{children:"View the detailed report from the AI generator."})]}),(0,a.jsxs)(n.Wu,{className:"flex flex-col items-center justify-center text-center h-4/5",children:[(0,a.jsx)(R.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"The full generation report is available on the Reports page."}),(0,a.jsx)(C(),{href:"/reports",children:(0,a.jsxs)(_.$,{children:["View Report ",(0,a.jsx)(S.A,{className:"ml-2 h-4 w-4"})]})})]})]})]}),(0,a.jsxs)(n.Zp,{className:"interactive-element",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Student Credit Load Analysis (CBCS)"}),(0,a.jsx)(n.BT,{children:"Analysis of assigned credits for each student based on the generated timetable."})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)(d.XI,{children:[(0,a.jsx)(d.A0,{children:(0,a.jsxs)(d.Hj,{children:[(0,a.jsx)(d.nd,{children:"Student"}),(0,a.jsx)(d.nd,{children:"Branch"}),(0,a.jsx)(d.nd,{children:"Target Credits"}),(0,a.jsx)(d.nd,{children:"Assigned Credits"}),(0,a.jsx)(d.nd,{children:"Status"})]})}),(0,a.jsx)(d.BF,{children:K.map(e=>(0,a.jsxs)(d.Hj,{children:[(0,a.jsxs)(d.nA,{className:"font-medium",children:[e.name," (",e.id,")"]}),(0,a.jsx)(d.nA,{children:e.branch}),(0,a.jsx)(d.nA,{children:e.enrolledCredits}),(0,a.jsx)(d.nA,{children:e.assignedCredits}),(0,a.jsx)(d.nA,{children:(0,a.jsx)(z.E,{variant:"Compliant"===e.status?"default":"Over-loaded"===e.status?"destructive":"secondary",children:e.status})})]},e.id))})]})})]})]}):(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-lg",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)("div",{className:"mx-auto bg-secondary p-3 rounded-full mb-4",children:(0,a.jsx)(p.A,{className:"h-8 w-8 text-secondary-foreground"})}),(0,a.jsx)(n.ZB,{className:"font-headline text-2xl",children:"Analytics & Reports"}),(0,a.jsx)(n.BT,{children:"Generate a timetable from the dashboard to view analytics."})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(C(),{href:"/dashboard",children:(0,a.jsxs)(_.$,{children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})})})]})})}},87270:(e,s,t)=>{"use strict";t.d(s,{A0:()=>d,BF:()=>i,Hj:()=>o,XI:()=>n,nA:()=>h,nd:()=>c});var a=t(95155),r=t(12115),l=t(64269);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",t),...r})})});n.displayName="Table";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",t),...r})});d.displayName="TableHeader";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",t),...r})});i.displayName="TableBody",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});o.displayName="TableRow";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});c.displayName="TableHead";let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});h.displayName="TableCell",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption"}},e=>{e.O(0,[4909,1732,1667,2057,3785,8441,1255,7358],()=>e(e.s=6282)),_N_E=e.O()}]);